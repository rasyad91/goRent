{{template "base" .}}

{{define "content"}}
{{$res := index .Data "user"}}
{{if $res.Username}}

<article class="mt-5" style="display: grid; place-items: center;">
    <h1>
        Welcome, {{$res.Username}}
    </h1>
    <a title="Sofia Lucas, CC BY-SA 4.0 &lt;https://creativecommons.org/licenses/by-sa/4.0&gt;, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Scottish_fold_cat.jpg"><img width="512" alt="Scottish fold cat" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Scottish_fold_cat.jpg/512px-Scottish_fold_cat.jpg"></a>

</article>

{{else}}

<div class="mt-5" style="display: grid; place-items: center;">
    <h1>
        Sign in to see content
    </h1>
</div>

{{end}}


<div class="container pb-5"></div> 
<div class="container bg-light ml-10 mr-10 rounded-lg shadow-sm pt-2 pl-5 pr-6 mb-3 bg-white">
<div class="container">
<h3>What would you like to rent today?</h3>
<!-- <h1>IN SEARCH RESULT</h1> -->

<form method="GET" action="/searchresult"> 

    <div class="form-group pt-1">
    <label for="exampleFormControlInput1"></label>
    <input type="text" class="form-control" name="q" placeholder="hockey sticks .."></input>
  </div>
      <!-- {{/* <input type="submit"> */}} -->
      <button class="btn btn-dark text-justify mt-2">Search</button>
      <div class ="container pb-3"></div>

</form>

</div></div>

<div class="container">

<div class="row">

    {{range $res := index .Data "product"}}

{{/* {{(index .Data 0).SysID}} */}}
<div class="col-md-4">
	<figure class="card card-product">
		{{/* <div class="img-wrap"><img src="https://s9.postimg.org/tupxkvfj3/image.jpg"></div> */}}
                {{/* <div class="card"> <img src={{$res.Images}} class="card-img-top" width="100%"> */}}
                <div class="card"> <img src={{index $res.Images 0}} class="card-img-top" width="100%">
		<figcaption class="info-wrap">

            <!--- passed 1 ---->
                <div class="card-body pt-0 px-0">
                    <div class="d-flex flex-row justify-content-between mb-0 px-3 mt-1"> <small class="text-dark mt-1">Daily rental prices starting at: </small>
                        <h6 class = "mt-1">$SGD{{$res.Price}}</h6>
                    </div>
                    <hr class="mt-2 mx-3">
                    <div class="d-flex flex-row justify-content-between px-3 pb-4">
                        <div class="d-flex flex-column"><span class="text-dark">{{$res.Title}}</span><small class="text-dark">Brand: {{$res.Brand}}</small></div>
                        <div class="d-flex flex-column">
                        <h5 class="mb-0">{{$res.Rating}}</h5><small class="text-dark text-right">(Ratings)</small>
                        
                        </div>
                    </div>
            <!-----end passed 1 ----> 

            <div class="d-flex flex-row justify-content-between p-3 mid">
                        <div class="d-flex flex-column"><small class="text-dark mb-1">Renter Username:{{$res.OwnerID}}</small>
                            <div class="d-flex flex-row"><img src="https://imgur.com/iPtsG7I.png" width="35px" height="25px">
                                <div class="d-flex flex-column ml-1"><small class="ghj">View User Profile</small><small class="ghj">(customizable)</small></div>
                                
                            </div>
                            <small class="text-muted mt-2 mb-1">Insurance Optons Available</small>
                        </div>
                        <div class="d-flex flex-column"><small class="text-muted mb-2">User's Review</small>
                            <div class="d-flex flex-row"><img src="https://imgur.com/J11mEBq.png">
                                <h6 class="ml-1">(user profile rating?)</h6>
                            </div>
                        </div>
                    </div> 
                    
                    <div class="mx-3 mt-0 mb-1 ce">
                    <form method="GET" class="mb-2" action="/v1/products/{{$res.ID}}">
                        <button  class="btn btn-danger btn-block"><small>VIEW DETAILS</small></button>
                    </form>
                    
                    <form method="GET" action="/searchresult">
                    <button type="button" class="btn btn-danger btn-block"><small>ADD TO CART</small></button>
                    </form>
                    </div> <small class="d-flex justify-content-center text-muted">*WOO TEAM WIP*</small>
                </div>
       
		</figcaption>

	</figure>

</div> <!-- col // -->

{{end}}

</div> <!-- row.// -->


</div> 

{{end}}
